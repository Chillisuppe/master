<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>StormFlash2d: A Black Box Perspective</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">StormFlash2d
   </div>
   <div id="projectbrief">An Adaptive two-dimensional Discontinuous Galerkin Model</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sec_parameters.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">A Black Box Perspective </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>StormFlash2d requires several input files that specify the numerical domain, polynomials that are used to approximate the prognostic variables and so forth. All of them need to be specified in a <em>Parameters</em> file (usually called <em>Parameters.dat</em>). Additionally several simulation parameters are given in this file. They consist of three groups: general numerical and IO parameters, equation specific parameters, and testcase specific parameters. A parameter is always set by giving the keyword in one line and its value in the following line. Before these pairs of lines there might be comment lines, which begin with a # .</p>
<h2>General numerical and IO parameters:</h2>
<table class="doxtable">
<tr>
<th>Keyword </th><th>Description </th><th>type </th><th>default/required  </th></tr>
<tr>
<td>EXPERIMENT_NUMBER </td><td>the experiment no. (0 for a new experiment) </td><td>integer (&gt;=0) </td><td>required </td></tr>
<tr>
<td>FINE_GRID_LEVEL </td><td>desired maximum level of refinements </td><td>integer (&gt;=0) </td><td>required </td></tr>
<tr>
<td>COARSE_GRID_LEVEL </td><td>minimum level of refinements </td><td>integer (&gt;=0) </td><td>required </td></tr>
<tr>
<td>TOLERANCE_OF_REFINEMENT </td><td>tolerance for refinement </td><td>real (&gt;=0) </td><td>required </td></tr>
<tr>
<td>TOLERANCE_OF_COARSENING </td><td>tolerance for coarsening </td><td>real (&gt;=0) </td><td>required </td></tr>
<tr>
<td>WATERMARK_OF_REFINEMENT </td><td>watermark for refinement </td><td>real (&gt;=0) </td><td>required </td></tr>
<tr>
<td>WATERMARK_OF_COARSENING </td><td>watermark for coarsening </td><td>real (&gt;=0) </td><td>required </td></tr>
<tr>
<td>TIMESTEP_LENGTH </td><td>timestep length </td><td>real </td><td>required(*) </td></tr>
<tr>
<td>MAX_CFL_NUMBER </td><td>maximum CFL number for time stepping </td><td>real </td><td>required(*) </td></tr>
<tr>
<td>TIMESTEPPING </td><td>timestepping scheme </td><td>character (euler, rk22, rk33, rk34, rk35) </td><td>euler </td></tr>
<tr>
<td>BEGINNING_TIMESTEP </td><td>first timestep </td><td>integer </td><td>1 </td></tr>
<tr>
<td>FINISHING_TIMESTEP </td><td>last timestep </td><td>integer </td><td>required(*) </td></tr>
<tr>
<td>TIMESTEPPING_START_TIME </td><td>initial experiment modeltime </td><td>real </td><td>0.0 </td></tr>
<tr>
<td>TIMESTEPPING_END_TIME </td><td>final experiment modeltime </td><td>real </td><td>required(*) </td></tr>
<tr>
<td>ADAPT_REGION </td><td>size of cell neighborhood to be additionally refined </td><td>integer </td><td>0 </td></tr>
<tr>
<td>NETCDF_FILE_PLOTTING </td><td>plot in NetCDF style to file (no plot = 0) </td><td>integer </td><td>0 </td></tr>
<tr>
<td>SUBTRIANG_PTS </td><td>equidist. subtriang pts per edge </td><td>integer </td><td>2 </td></tr>
<tr>
<td>VTU_FILE_PLOTTING </td><td>plot in vtu style for paraview (no plot = 0) </td><td>integer </td><td>0 </td></tr>
<tr>
<td>ANASOL_PLOTTING </td><td>plot analytic solution to file (no plot = 0) </td><td>integer </td><td>0 </td></tr>
<tr>
<td>STEPS_BTW_PLOTS </td><td>timesteps between plots </td><td>integer </td><td>required(*), if NETCDF_FILE_PLOTTING or VTU_FILE_PLOTTING is set </td></tr>
<tr>
<td>TIME_BTW_PLOTS </td><td>time interval between plots </td><td>real </td><td>required(*), if NETCDF_FILE_PLOTTING or VTU_FILE_PLOTTING is set </td></tr>
<tr>
<td>STEPS_BTW_SAVES </td><td>timesteps between saves </td><td>integer </td><td>required </td></tr>
<tr>
<td>DIAGNOSTICS </td><td>diagnostics (on = 1, off = 0) </td><td>integer </td><td>0 </td></tr>
<tr>
<td>STEPS_BTW_DIAG </td><td>steps between diagnostics </td><td>integer </td><td>required, if DIAGNOSTICS = 1 </td></tr>
<tr>
<td>SAVE_FINISH_CONFIGURATION </td><td>save last timestep for next experiment (no = 0) </td><td>integer </td><td>-1 (THAT MEANS IT IS SAVED!) </td></tr>
<tr>
<td>DOMAIN_FILE_NAME </td><td>file defining the domain </td><td>character </td><td>Domain.dat </td></tr>
<tr>
<td>TRIANG_FILE_NAME </td><td>file defining the initial triangulation </td><td>character </td><td>Triang.dat </td></tr>
<tr>
<td>NUM_SIGNATURE_FILES </td><td>number of signature files provided </td><td>integer </td><td>0 (SHOULD BE 1!?) </td></tr>
<tr>
<td>SIGNATURE_FILE_NAME </td><td>signature file name(s) </td><td>character </td><td>- </td></tr>
</table>
<p><em>Note:</em> required(*) means that either FINISHING_TIMESTEP (for constant time stepping) or TIMESTEPPING_END_TIME (for CFL based timestepping) has to be set exclusively. If FINISHING_TIMESTEP is set, also TIMESTEP_LENGTH and STEPS_BTW_PLOTS has to be set; if TIMESTEPPING_END_TIME is set, also MAX_CFL_NUMBER and TIME_BTW_PLOTS has to be set.</p>
<h2>Equation specific parameters:</h2>
<h3>Shallow water equations:</h3>
<table class="doxtable">
<tr>
<th>Keyword </th><th>Description </th><th>type </th><th>default  </th></tr>
<tr>
<td>VISCOSITY </td><td>viscosity </td><td>real </td><td>0.0 </td></tr>
<tr>
<td>BOTTOM_FRIC </td><td>bottom friction </td><td>real </td><td>0.0 </td></tr>
<tr>
<td>WIND_FRIC </td><td>wind friction </td><td>real </td><td>0.0 </td></tr>
<tr>
<td>FLUID_DENSITY </td><td>density of fluid </td><td>real </td><td>1000.0 </td></tr>
<tr>
<td>BATHY_PARAM_DEPTH </td><td>center point fluid depth when surface is flat </td><td>real </td><td>0.0 </td></tr>
<tr>
<td>WETDRY_TOL </td><td>cut off tolerance for wetting and drying </td><td>real </td><td>1e-8 </td></tr>
</table>
<h3>Euler equations:</h3>
<table class="doxtable">
<tr>
<th>Keyword </th><th>Description </th><th>type </th><th>default  </th></tr>
<tr>
<td>GAMMA </td><td>specific heat ratio </td><td>real </td><td>1.4 </td></tr>
<tr>
<td>REF_PRESSURE </td><td>reference pressure of gas </td><td>real </td><td>101325.0 </td></tr>
<tr>
<td>GAS_CONSTANT </td><td>specific gas constant </td><td>real </td><td>287.0 </td></tr>
<tr>
<td>GRAVITY_SWITCH </td><td>switch for gravity </td><td>real </td><td>1.0 </td></tr>
</table>
<h3>Linear Advection:</h3>
<table class="doxtable">
<tr>
<th>Keyword </th><th>Description </th><th>type </th><th>default  </th></tr>
<tr>
<td>VELOCITY </td><td>advection velocity </td><td>real </td><td>0.1 0.1 </td></tr>
</table>
<h2>Testcase specific parameters:</h2>
<p>Testcase specific parameters are specified in the routine <code>initial_setparam</code> in the <code>DG_initial</code> module, and can be different for each testcase. If defined in <code>initial_setparam</code>, they must be set in the Parameters file. An example can be found in <a class="el" href="_d_g__initial__riemannproblem_8f90.html" title="contains module DG_initial ">DG_initial_riemannproblem.f90</a>, where three test specific parameters of type real are set: XORIGIN, STATE_LEFT, STATE_RIGHT. The associated values must then also be set in the Parameters file.</p>
<h2>Additional data needed:</h2>
<p>The needed initial data consists of</p>
<ul>
<li>Domain.dat</li>
<li>Triang.dat : an ASCII file that specifies the initial triangulation</li>
<li>dg_***.ftf, e.g. dg_linear.ftf, a signature file in ftf format to specify the polynomials that are used for the numerical approximation</li>
</ul>
<p>Note that these files do not include the intial data for the prognostic variables. Those are to be specified via the module DG_initial in a file usually called DG_initial_&lt;MyTestCase&gt;.f90. Example files can be found in the source directory <code>~/src/flash/</code>.</p>
<p>The output of the model are data files in netcdf or vtu format that contain snapshots of the prognostic variables. They are saved as StormFlash2d********.{nc,vtu} where the *s refer to the time step. If diagnostic mode is switched on for the simulation in <em>Parameters.dat</em> an additional output (at the end of the simulation) is an ascii file StormFlash2d_diag.0000.</p>
<div class="image">
<img src="SF2D_Doxy_Schematic.png" alt="SF2D_Doxy_Schematic.png"/>
<div class="caption">
basic input/output for StormFlash2d</div></div>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Nov 5 2018 14:08:27 for StormFlash2d by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
